<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="The Best or Nothing">
<meta property="og:type" content="website">
<meta property="og:title" content="xuwei'blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="xuwei'blog">
<meta property="og:description" content="The Best or Nothing">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="xuwei'blog">
<meta name="twitter:description" content="The Best or Nothing">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> xuwei'blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">xuwei'blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/18/百度前端技术学院学习任务一：零基础HTML编码/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/18/百度前端技术学院学习任务一：零基础HTML编码/" itemprop="url">
                  百度前端技术学院学习任务一：零基础HTML编码
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-18T20:05:03+08:00">
                2017-03-18
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/18/百度前端技术学院学习任务一：零基础HTML编码/" class="leancloud_visitors" data-flag-title="百度前端技术学院学习任务一：零基础HTML编码">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　本章为百度前端技术学院学习任务一的学习记录，主要对html基本标签进行学习，并实现要求的效果。<br>　　本章要点：</p>
<ul>
<li>任务及Demo地址</li>
<li>html标签</li>
<li>总结<h2 id="1-任务及Demo地址"><a href="#1-任务及Demo地址" class="headerlink" title="1.任务及Demo地址"></a><strong>1.任务及Demo地址</strong></h2><h4 id="1-1-任务目的"><a href="#1-1-任务目的" class="headerlink" title="1.1 任务目的"></a><strong>1.1 任务目的</strong></h4></li>
<li>了解HTML的定义、概念、发展简史</li>
<li>掌握常用HTML标签的含义、用法</li>
<li>能够基于设计稿来合理规划HTML文档结构</li>
<li>理解语义化，合理地使用HTML标签来构建页面<h4 id="1-2-任务要求的效果图"><a href="#1-2-任务要求的效果图" class="headerlink" title="1.2 任务要求的效果图"></a><strong>1.2 任务要求的效果图</strong></h4><img src="./images/task_1_1_1.jpg" alt="enter description here"></li>
</ul>
<h4 id="1-3-完成的效果图"><a href="#1-3-完成的效果图" class="headerlink" title="1.3 完成的效果图"></a><strong>1.3 完成的效果图</strong></h4><p><img src="./images/task01.jpg" alt="enter description here"></p>
<h4 id="1-4代码地址"><a href="#1-4代码地址" class="headerlink" title="1.4代码地址"></a><strong>1.4代码地址</strong></h4><p>代码已上传至github中，具体地址如下：<br><a href="https://github.com/xuwei1991/Test" target="_blank" rel="external">https://github.com/xuwei1991/Test</a></p>
<h2 id="2-html标签"><a href="#2-html标签" class="headerlink" title="2.html标签"></a><strong>2.html标签</strong></h2><p>html中文名为超文本标记语言，是一种解释性语言，主要是由标签组成，具体用到和涉及的标签总结了以下，如下：</p>
<h4 id="2-1-常用到的单标签"><a href="#2-1-常用到的单标签" class="headerlink" title="2.1 常用到的单标签"></a><strong>2.1 常用到的单标签</strong></h4><p>单标签单个使用，不用成对<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;br&gt;   换行</div><div class="line">&lt;hr&gt;  水平分割线</div></pre></td></tr></table></figure></p>
<h4 id="2-2-常用的双标签"><a href="#2-2-常用的双标签" class="headerlink" title="2.2 常用的双标签"></a><strong>2.2 常用的双标签</strong></h4><p>双标签成对出现，闭合标签加斜杠<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&lt;/div&gt;    块标签</div><div class="line">&lt;h1&gt;&lt;/h1&gt;      标题标签，从h1到h6，对应的加粗和变大</div><div class="line">&lt;p&gt;&lt;/p&gt;        段落标签</div><div class="line">&lt;a href=”去往的路径”  title=”提示文本”  target=”_self  |  _blank”&gt;链接文本&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<h4 id="2-3-列表标签"><a href="#2-3-列表标签" class="headerlink" title="2.3 列表标签"></a><strong>2.3 列表标签</strong></h4><p>列表分为无序列表和有序列表，标签分别如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">无序列表</div><div class="line">&lt;ul&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;</div><div class="line">      ......</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line"></div><div class="line">有序列表</div><div class="line">&lt;ol&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;</div><div class="line">      ......</div><div class="line">&lt;/ol&gt;</div></pre></td></tr></table></figure>
<h4 id="2-4-表格标签"><a href="#2-4-表格标签" class="headerlink" title="2.4 表格标签"></a><strong>2.4 表格标签</strong></h4><p>表格标签是用来设置表格的，也可以用来页面布局，主要格式如下</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">      &lt;tr&gt;               <span class="comment">//行标签</span></div><div class="line">          &lt;th&gt;&lt;/th&gt;      <span class="comment">//属性栏</span></div><div class="line">          &lt;th&gt;&lt;/th&gt;</div><div class="line">      &lt;/tr&gt;</div><div class="line">      &lt;tr&gt;</div><div class="line">          &lt;td&gt;&lt;/td&gt;       <span class="comment">//列标签</span></div><div class="line">          &lt;td&gt;&lt;/td&gt;</div><div class="line">      &lt;/tr&gt;</div><div class="line">      &lt;tr&gt;</div><div class="line">          &lt;td&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;/td&gt;</div><div class="line">      &lt;/tr&gt;      </div><div class="line">&lt;/table&gt;</div><div class="line"></div><div class="line"></div><div class="line">单元格中常用的属性设置：</div><div class="line">Height=”<span class="number">300</span>”       高</div><div class="line">cellspacing=”像素值”    单元格与单元格的距离</div><div class="line">cellpadding=”像素值”    内容距边框的距离</div><div class="line">align=”<span class="attribute">left</span>  |  right  |  center”  </div><div class="line">如果直接给表格用align=”center”  表格居中</div><div class="line">如果给tr或者td使用   ，tr或者td内容居中</div><div class="line"></div><div class="line">colspan=”数字”  合并同一行上的单元格</div><div class="line">rowspan=”数字”  合并同一列上的单元格</div></pre></td></tr></table></figure>
<h2 id="2-5-表单标签"><a href="#2-5-表单标签" class="headerlink" title="2.5 表单标签"></a><strong>2.5 表单标签</strong></h2><p>表单标签有文本输入框，密码框，单选框，多选框，下拉列表，文本区域，提交按钮，重置按钮等组成。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line"><span class="comment">//文本输入框</span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">"mailaddress"</span>&gt;邮箱：&lt;/label&gt;</div><div class="line">		&lt;<span class="selector-tag">input</span> type=<span class="string">"text"</span>  name=<span class="string">"mailaddress"</span> value=<span class="string">"请输入邮箱地址"</span>/&gt;</div><div class="line">        </div><div class="line"><span class="comment">//密码输入框</span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">"password"</span>&gt;密码：&lt;/label&gt;</div><div class="line">		&lt;<span class="selector-tag">input</span> type=<span class="string">"password"</span> name=<span class="string">"password"</span> /&gt;</div><div class="line">        </div><div class="line"><span class="comment">//单选框        </span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">"sex"</span>&gt;性别&lt;/label&gt;</div><div class="line">		&lt;<span class="selector-tag">input</span> type=<span class="string">"radio"</span> name=<span class="string">"sex"</span> value=<span class="string">"man"</span>/&gt;男</div><div class="line">		&lt;<span class="selector-tag">input</span> type=<span class="string">"radio"</span> name=<span class="string">"sex"</span> value=<span class="string">"woman"</span>/&gt;女</div><div class="line">        </div><div class="line"><span class="comment">//多选框        </span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">"interest"</span>&gt;爱好&lt;/label&gt;</div><div class="line">&lt;<span class="selector-tag">input</span> type=<span class="string">"checkbox"</span>  name=<span class="string">"interest"</span> value=<span class="string">"basketball"</span>/&gt;篮球</div><div class="line">&lt;<span class="selector-tag">input</span> type=<span class="string">"checkbox"</span>  name=<span class="string">"interest"</span> value=<span class="string">"football"</span>/&gt;足球</div><div class="line">&lt;<span class="selector-tag">input</span> type=<span class="string">"checkbox"</span>  name=<span class="string">"interest"</span> value=<span class="string">"waterball"</span>/&gt;水球        </div><div class="line"></div><div class="line"><span class="comment">//下拉列表</span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">"city"</span>&gt;城市&lt;/label&gt;</div><div class="line">		&lt;select name=<span class="string">"city"</span> id=<span class="string">""</span>&gt;</div><div class="line">			&lt;option value=<span class="string">"beijing"</span>&gt;北京&lt;/option&gt;</div><div class="line">			&lt;option value=<span class="string">"tianjing"</span>&gt;天津&lt;/option&gt;</div><div class="line">		&lt;/select&gt;</div><div class="line">        </div><div class="line"><span class="comment">//文本区域        </span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">"say"</span>&gt;留言&lt;/label&gt;</div><div class="line">		&lt;<span class="selector-tag">textarea</span> name=<span class="string">"say"</span> id=<span class="string">""</span> cols=<span class="string">"30"</span> rows=<span class="string">"10"</span>&gt;&lt;/textarea&gt;</div><div class="line">        </div><div class="line"><span class="comment">//提交按钮        </span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">""</span> &gt;</div><div class="line">					&lt;<span class="selector-tag">input</span> class=<span class="string">"submit"</span> type=<span class="string">"submit"</span> value=<span class="string">"确认提交"</span>/&gt;</div><div class="line">					&lt;/label&gt;</div><div class="line">                    </div><div class="line"><span class="comment">//重置按钮                    </span></div><div class="line">&lt;<span class="selector-tag">label</span> <span class="keyword">for</span>=<span class="string">""</span> &gt;</div><div class="line">					&lt;<span class="selector-tag">input</span> class=<span class="string">"reset"</span> type=<span class="string">"submit"</span> value=<span class="string">"确认提交"</span>/&gt;</div><div class="line">					&lt;/label&gt;                    </div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="3-总结"><a href="#3-总结" class="headerlink" title="3.总结"></a><strong>3.总结</strong></h2><p>通过基础知识的学习和完成任务一，对html的标签使用有了基本的了解。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/12/java设计模式之解释器模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/12/java设计模式之解释器模式/" itemprop="url">
                  java设计模式之解释器模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-12T09:28:09+08:00">
                2017-03-12
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/12/java设计模式之解释器模式/" class="leancloud_visitors" data-flag-title="java设计模式之解释器模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　解释器模式也是行为型模式的一种，本章主要对解释器模式进行学习。<br>　　本章要点：</p>
<ul>
<li>解释器模式的概念和用途</li>
<li>解释器模式的主要角色</li>
<li>解释器模式的程序示例</li>
<li>总结</li>
</ul>
<h2 id="1-解释器模式的概念和用途"><a href="#1-解释器模式的概念和用途" class="headerlink" title="1.解释器模式的概念和用途"></a><strong>1.解释器模式的概念和用途</strong></h2><p>　　<strong>解释器模式定义：给定一种语言，定义他的文法的一种表示，并定义一个解释器，该解释器使用该表示来解释语言中句子。</strong><br>　　解释器模式的应用环境是：特定类型的问题发生的频率较高。可以将问题的实例表述为简单语言中的句子，通过构建解释器解释这些句子来解决问题。当文法简单且不追求高效率的时候使用解释器模式的效果最好。</p>
<h2 id="2-解释器模式的主要角色"><a href="#2-解释器模式的主要角色" class="headerlink" title="2.解释器模式的主要角色"></a><strong>2.解释器模式的主要角色</strong></h2><p>对于解释器模式而言，主要有以下几个角色：</p>
<ul>
<li>抽象解释器角色：声明所有表达式都要实现的抽象接口，接口中有一个interpret方法来执行解释操作，具体的解释器由终结符解释器和非终结符解释器来实现；</li>
<li>终结符解释器角色：终结符解释器实现与文中元素相关联的解释操作，通常在解释器模式中，只有一个终结符表达式；</li>
<li>非终结符解释器角色：非终结符解释器实现与文中规则相关联的解释操作，非终结符一般是文法中的运算符或者关键字；</li>
<li>环境角色：环境角色用来存放文法中各个终结符角色所对应的具体值；</li>
</ul>
<h2 id="3-解释器模式的程序示例"><a href="#3-解释器模式的程序示例" class="headerlink" title="3.解释器模式的程序示例"></a><strong>3.解释器模式的程序示例</strong></h2><p>解释器模式的代码示例如下：（摘自博客园–山高我为峰）</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">//抽象表达式</div><div class="line">/*抽象表达式是生产语法集合(也叫语法树)的关键，每个语法集合完成指定语法解析任务，它是通过递归调用的方式，最终</div><div class="line">由最小的语法单元进行解析完成*/</div><div class="line">public abstract class Expression&#123;</div><div class="line">    //每个表达式必须有一个解析任务</div><div class="line">    public abstract Object interpreter(Context context);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">//终结符表达式  主要是处理场景元素和数据的转换 如：a+b+c中的"a""b""c"</div><div class="line">public class TerminalExpression extends Expression&#123;</div><div class="line">    //通常终结符表达式只有一个，但是有多个对象</div><div class="line">    public Object interpreter(Context context)&#123;</div><div class="line">        return null;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">//非终结符表达式</div><div class="line">/*</div><div class="line">    每个非终结符表达式都代表一个文法规则，并且每个文法规则都只关心自己周边的文法规则结果(注意是结果),因此</div><div class="line">    这就产生了每个终结符表达式调用自己周边的非终结符表达式，然后最终，最小的文法规则就是终结符表达式，终</div><div class="line">    结符表达式的概念就是如此，不能在参与比自己更小的文法运算了</div><div class="line">*/</div><div class="line">public class NonterminalExpression extends Expression&#123;</div><div class="line">    //每个非终结符表达式都会对其他表达式产生依赖</div><div class="line">    public NonterminalExpression(Expression... expression)&#123;</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    public Object interpreter(Context context)&#123;</div><div class="line">        //进行文法处理</div><div class="line">        return null;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">//场景类</div><div class="line">public class Client&#123;</div><div class="line">    public static void main(String[] args)&#123;</div><div class="line">        Context context=new Context();</div><div class="line">        //通常一个语法容器，容纳一个具体的表达式，通常为ListArray，LinkedList，Stack等类型</div><div class="line">        Stack&lt;Expression&gt; stack=null;</div><div class="line">        for(;;)&#123;</div><div class="line">            //进行语法判断，并产生递归调用</div><div class="line">        &#125;</div><div class="line">        //产生一个完整的语法树，由各个具体的语法分析进行解析</div><div class="line">        Expression expression=stack.pop();</div><div class="line">        //具体元素进入场景</div><div class="line">        expression.interpreter(context);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>解释器模式是语法分析工具，拓展性较强，修改语法规则只需要修改非终结符表达式就可以；</li>
<li>解释器模式在实际的系统开发中使用的非常少，因为它会引起效率、性能以及维护等问题；</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/11/Java设计模式之中介者模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/Java设计模式之中介者模式/" itemprop="url">
                  Java设计模式之中介者模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-11T23:16:03+08:00">
                2017-03-11
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/11/Java设计模式之中介者模式/" class="leancloud_visitors" data-flag-title="Java设计模式之中介者模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　中介者模式也是行为型模式的一种，本章主要对中介者模式进行学习。<br>　　本章要点：</p>
<ul>
<li>中介者模式的概念和用途</li>
<li>中介者模式的主要角色</li>
<li>中介模式的程序示例</li>
<li>总结<h2 id="1-中介者模式的概念和用途"><a href="#1-中介者模式的概念和用途" class="headerlink" title="1.中介者模式的概念和用途"></a><strong>1.中介者模式的概念和用途</strong></h2>　　中介者模式定义：用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。<br>　　当多个对象之间存在交互的时候，往往会存在多对多的关系，使得对象之间的耦合程度很高，系统变得复杂，且不利于拓展。而中介者模式就是很好的解决这一类问题，所有的对象都与中介者进行交互，网状结构变成星状结构，使得系统变得更加独立和可拓展。<br>　　主要的使用场景有：第一，系统中对象之间存在比较复杂的引用关系，导致它们之间的依赖关系结构混乱而且难以复用该对象；第二，想通过一个中间类来封装多个类中的行为，而又不想生成太多的子类。<h2 id="2-中介者模式的主要角色"><a href="#2-中介者模式的主要角色" class="headerlink" title="2.中介者模式的主要角色"></a><strong>2.中介者模式的主要角色</strong></h2>对于中介者模式而言，主要有以下几种角色：</li>
<li>抽象中介者角色：定义一个接口负责与同事类对象进行通信，接口方法传入同事类角色和消息；</li>
<li>具体中介者角色：实抽象中介者角色，协调各同事对象的协作，在该角色中必须持有具体的同事类角色；</li>
<li>抽象同事类角色：定义自己的成员和方法，持有中介者对象的引用；</li>
<li>具体同事类角色：定义属于自己的获得信息的行为方法，并且持有中介者对象的引用，与中介者进行交互；</li>
</ul>
<h2 id="3-中介者模式的程序示例"><a href="#3-中介者模式的程序示例" class="headerlink" title="3.中介者模式的程序示例"></a><strong>3.中介者模式的程序示例</strong></h2><p>假如有一个房东和一个买房的人，它们通过中介进行交互，程序示例如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">//抽象中介者角色</div><div class="line">abstract class Mediator&#123;</div><div class="line">	//申明一个抽象的联络方法，持有对象角色和消息</div><div class="line">	public abstract void contact(String message,Colleague colleague);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//抽象对象角色</div><div class="line">abstract class Colleague&#123;</div><div class="line">	protected String name;</div><div class="line">	//持有中介者对象的引用</div><div class="line">	protected Mediator mediator;</div><div class="line">	//通过构造方法，传入对象名称和中介者名称</div><div class="line">	public Colleague(String name,Mediator mediator)&#123;</div><div class="line">		this.name = name;</div><div class="line">		this.mediator = mediator;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体对象角色：房东</div><div class="line">class HouseSeller extends Colleague&#123;</div><div class="line">	public HouseSeller(String name,Mediator mediator)&#123;</div><div class="line">		super(name,mediator);</div><div class="line">	&#125;</div><div class="line">	//获得信息</div><div class="line">	public void getMessage(String message)&#123;</div><div class="line">		System.out.println("房主"+name+"获得信息:"+message);</div><div class="line">	&#125;</div><div class="line">	//与中介者进行交互</div><div class="line">	public void contact(String message)&#123;</div><div class="line">		mediator.contact(message, this);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体对象角色：买房的人</div><div class="line">class HouseBuyer extends Colleague&#123;</div><div class="line">	public HouseBuyer(String name,Mediator mediator)&#123;</div><div class="line">		super(name,mediator);</div><div class="line">	&#125;</div><div class="line">	//获得信息</div><div class="line">	public void getMessage(String message)&#123;</div><div class="line">		System.out.println("买房的人"+name+"获得信息:"+message);</div><div class="line">	&#125;</div><div class="line">	//与中介者进行交互</div><div class="line">	public void contact(String message)&#123;</div><div class="line">		mediator.contact(message, this);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//访问中介者角色</div><div class="line">class HouseMediator extends Mediator&#123;</div><div class="line">    //持有房东和买房人的对象引用，并传入对象参数</div><div class="line">	private HouseSeller houseseller;</div><div class="line">	private HouseBuyer housebuyer;</div><div class="line">	</div><div class="line">	public HouseSeller getHouseseller() &#123;</div><div class="line">		return houseseller;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	public void setHouseseller(HouseSeller houseseller) &#123;</div><div class="line">		this.houseseller = houseseller;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public HouseBuyer getHousebuyer() &#123;</div><div class="line">		return housebuyer;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void setHousebuyer(HouseBuyer housebuyer) &#123;</div><div class="line">		this.housebuyer = housebuyer;</div><div class="line">	&#125;</div><div class="line">	//交互方法</div><div class="line">	@Override</div><div class="line">	public void contact(String message, Colleague colleague) &#123;</div><div class="line">		//如果是房东，则买房者获得信息</div><div class="line">		if(colleague == houseseller)&#123;</div><div class="line">			housebuyer.getMessage(message);</div><div class="line">		&#125;</div><div class="line">		else &#123;houseseller.getMessage(message);;&#125;</div><div class="line">		</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//测试类</div><div class="line">public class MediatorPattern &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建中介者对象</div><div class="line">		HouseMediator housemediator = new HouseMediator();</div><div class="line">		//创建房东对象和买房者对象</div><div class="line">		HouseSeller hs = new HouseSeller("张三",housemediator);</div><div class="line">		HouseBuyer hb = new HouseBuyer("李四",housemediator);</div><div class="line">		//让中介者对象知晓具体的对象</div><div class="line">		housemediator.setHouseseller(hs);</div><div class="line">		housemediator.setHousebuyer(hb);	</div><div class="line">		hs.contact("我是房东，下午有时间看房吗");</div><div class="line">		hb.contact("我是买房的人，可以看房");</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行的结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">买房的人李四获得信息:我是房东，下午有时间看房吗</div><div class="line">房主张三获得信息:我是买房的人，可以看房</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>一般在同事类对象间是网状结构关系时，考虑使用中介者模式；</li>
<li>中介者模式可以避免同事类之间的耦合，使得它们能够相互独立；</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/11/Java设计模式之访问者模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/Java设计模式之访问者模式/" itemprop="url">
                  Java设计模式之访问者模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-11T12:52:41+08:00">
                2017-03-11
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/11/Java设计模式之访问者模式/" class="leancloud_visitors" data-flag-title="Java设计模式之访问者模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　访问者模式也是行为型模式的一种，本章主要对访问者模式进行学习。<br>　　本章要点：</p>
<ul>
<li>访问者模式的概念和用途</li>
<li>访问者模式的主要角色</li>
<li>访问者模式的程序示例</li>
<li>总结<h2 id="1-访问者模式的概念和用途"><a href="#1-访问者模式的概念和用途" class="headerlink" title="1.访问者模式的概念和用途"></a><strong>1.访问者模式的概念和用途</strong></h2>　　<strong>访问者模式的定义：表示一个作用于某对象结构中的各元素的操作。它使你可以在不改变各元素类的前提下定义作用于这些元素的新操作。</strong><br>　　在实际的软件开发过程中，对于对象中的元素我们可能会有不同的操作，有时在原有的操作上我们可能需要增加新的操作，访问者模式能够很好的解决这类问题。访问者模式封装了施加于数据结构之上的数据操作方法，改变数据操作的条件下可以不用修改数据结构。在不改变原有代码的条件下增加新的数据操作方式是访问者设计模式的目的。<h2 id="2-访问者模式的主要角色"><a href="#2-访问者模式的主要角色" class="headerlink" title="2.访问者模式的主要角色"></a><strong>2.访问者模式的主要角色</strong></h2>对于访问者设计模式而言，它有以下几个主要的角色：</li>
<li>抽象访问者角色：为该对象结构中具体元素角色声明一个访问操作接口。该操作接口的名字和参数标识了发送访问请求给具体访问者的具体元素角色，这样访问者就可以通过该元素角色的特定接口直接访问它。</li>
<li>具体访问者角色：实现抽象访问者角色所定义的接口方法，对具体元素进行访问。</li>
<li>抽象元素角色：定义一个accept()方法，里面传入访问者角色参数。</li>
<li>具体元素操作：实现抽象元素角色的方法。</li>
<li>结构对象角色：访问者模式的关键角色，能枚举它的元素。可以提供一个高层的接口以允许该访问者访问它的元素。可以是一个复合或是一个集合，如一个列表或一个无序集合。</li>
</ul>
<h2 id="3-访问者模式的程序示例"><a href="#3-访问者模式的程序示例" class="headerlink" title="3.访问者模式的程序示例"></a><strong>3.访问者模式的程序示例</strong></h2><p>访问者模式的程序示例如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">import java.util.*;</div><div class="line"></div><div class="line">//抽象访问者角色</div><div class="line">interface Visitor&#123;</div><div class="line">	//定义抽象的元素访问方法</div><div class="line">	void visitA(ElementA ea);</div><div class="line">	void visitB(ElementB eb);	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体访问者角色1</div><div class="line">class Visitor1 implements Visitor&#123;</div><div class="line">    //用第一种方法实现抽象的元素访问方法</div><div class="line">	@Override</div><div class="line">	public void visitA(ElementA ea) &#123;</div><div class="line">		System.out.println("用第一种方式访问元素A");</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void visitB(ElementB eb) &#123;</div><div class="line">		System.out.println("用第一种方式访问元素B");		</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体访问者角色2</div><div class="line">class Visitor2 implements Visitor&#123;</div><div class="line">    //用第二种方法实现抽象的元素访问方法</div><div class="line">	@Override</div><div class="line">	public void visitA(ElementA ea) &#123;</div><div class="line">		System.out.println("用第二种方式访问元素A");</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void visitB(ElementB eb) &#123;</div><div class="line">		System.out.println("用第二种方式访问元素B");		</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//抽象元素角色</div><div class="line">interface Element&#123;</div><div class="line">	//定义accept方法，接收访问者角色为参数</div><div class="line">	void accept(Visitor visitor);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体元素角色A</div><div class="line">class ElementA implements Element&#123;</div><div class="line">	//复写accept方法</div><div class="line">	@Override</div><div class="line">	public void accept(Visitor visitor) &#123;</div><div class="line">		visitor.visitA(this);	</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体元素角色B</div><div class="line">class ElementB implements Element&#123;</div><div class="line">	//复写accept方法</div><div class="line">	@Override</div><div class="line">	public void accept(Visitor visitor) &#123;</div><div class="line">		visitor.visitB(this);	</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//结构对象角色</div><div class="line">class ObjectStruture&#123;</div><div class="line">	//创建容器，放置元素</div><div class="line">	List&lt;Element&gt; list = new ArrayList&lt;Element&gt;();</div><div class="line">	//定义增加元素方法</div><div class="line">	public void attach(Element element)&#123;</div><div class="line">		list.add(element);</div><div class="line">	&#125;</div><div class="line">	//定义删除元素方法</div><div class="line">	public void detach(Element element)&#123;</div><div class="line">		list.remove(element);</div><div class="line">	&#125;</div><div class="line">	//显示方法，遍历各个元素，调用accept方法</div><div class="line">	public void show(Visitor visitor)&#123;</div><div class="line">		for(Element element:list)&#123;</div><div class="line">			element.accept(visitor);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//测试类</div><div class="line">public class VisitorPattern &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建一个结构对象</div><div class="line">		ObjectStruture os = new ObjectStruture();</div><div class="line">		//往里面添加四个元素，有重复</div><div class="line">		os.attach(new ElementA());</div><div class="line">		os.attach(new ElementB());</div><div class="line">		os.attach(new ElementB());</div><div class="line">		os.attach(new ElementA());</div><div class="line">		</div><div class="line">		//创建第一个访问者，用第一种方式对元素进行访问</div><div class="line">		Visitor visitor1 = new Visitor1();</div><div class="line">		os.show(visitor1);</div><div class="line">		System.out.println("--------我是分割线-------");</div><div class="line">		//创建第二个访问者，用第二种方式对元素进行访问</div><div class="line">		Visitor visitor2 = new Visitor2();</div><div class="line">		os.show(visitor2);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">用第一种方式访问元素A</div><div class="line">用第一种方式访问元素B</div><div class="line">用第一种方式访问元素B</div><div class="line">用第一种方式访问元素A</div><div class="line">--------我是分割线-------</div><div class="line">用第二种方式访问元素A</div><div class="line">用第二种方式访问元素B</div><div class="line">用第二种方式访问元素B</div><div class="line">用第二种方式访问元素A</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>访问者模式使得用户在不改变数据结构的条件下，可以方便的增加对数据的操作，适用于对象结构很少变化的类</li>
<li>客户端用户只依赖于Visitor接口与ObjectStructure类，较好的实现了封装；</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/11/Java设计模式之状态模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/Java设计模式之状态模式/" itemprop="url">
                  Java设计模式之状态模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-11T10:51:00+08:00">
                2017-03-11
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/11/Java设计模式之状态模式/" class="leancloud_visitors" data-flag-title="Java设计模式之状态模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　状态模式也是行为型模式的一种，本章主要对状态模式进行学习。<br>　　本章要点：</p>
<ul>
<li>状态模式的概念及用途</li>
<li>状态模式的主要角色</li>
<li>状态模式的程序示例</li>
<li><p>总结</p>
<h2 id="1-状态模式的概念及用途"><a href="#1-状态模式的概念及用途" class="headerlink" title="1.状态模式的概念及用途"></a><strong>1.状态模式的概念及用途</strong></h2><p>　　<strong>状态模式的定义是：当一个对象的内在状态改变时允许改变其行为，这个对象看起来像是改变了其类</strong>。—-百度百科<br>　　当一个对象存在多种状态时，通常是用各种条件表达式来选择不同的状态，这样会使得程序较为复杂。而状态模式就是用来解决这一类问题，状态模式把状态的判断逻辑转移到表示不同的一系列的类中，把复杂的逻辑简单化。<br>　　它主要的适用场景有以下两类：</p>
</li>
<li><p>一个对象的行为取决于它的状态，并且它必须在运行时刻根据状态改变它的行为</p>
</li>
<li><p>一个操作中含有庞大的多 分支结构，并且这些分支决定于对象的状态</p>
<h2 id="2-状态模式的主要角色"><a href="#2-状态模式的主要角色" class="headerlink" title="2.状态模式的主要角色"></a><strong>2.状态模式的主要角色</strong></h2><p>　　对于状态模式而言，它主要有以下几个角色：</p>
</li>
<li><p>上下文角色：主要作用是持有状态实例对象，并且定义接口方法</p>
</li>
<li>抽象状态：定义抽象的状态处理方法</li>
<li>具体状态：实现抽象状态中的方法</li>
</ul>
<h2 id="3-状态模式的程序示例"><a href="#3-状态模式的程序示例" class="headerlink" title="3.状态模式的程序示例"></a><strong>3.状态模式的程序示例</strong></h2><p>　　通过状态模式，对开关状态进行控制，程序代码如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">//上下文角色，灯类</div><div class="line">class Light&#123;</div><div class="line">	//持有状态类的实例对象</div><div class="line">	private LightState state;</div><div class="line">	//通过构造方法传入状态参数</div><div class="line">	public Light(LightState state)&#123; this.state = state;&#125;</div><div class="line">	//开关状态的get/set方法</div><div class="line">	public LightState getState() &#123;</div><div class="line">		return state;</div><div class="line">	&#125;</div><div class="line">	public void setState(LightState state) &#123;</div><div class="line">		this.state = state;</div><div class="line">	&#125;</div><div class="line">	//灯所具有的方法</div><div class="line">	public void PressControl()&#123;</div><div class="line">		//调用状态类的方法</div><div class="line">		state.Press(this);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//抽象状态类</div><div class="line">interface LightState&#123;</div><div class="line">	//定义接口方法：按压开关</div><div class="line">	void Press(Light light);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体状态类：灯亮</div><div class="line">class LightOn implements LightState&#123;</div><div class="line">    //重写按压开关方法</div><div class="line">	@Override</div><div class="line">	public void Press(Light light) &#123;</div><div class="line">		//打开灯，并把状态切换至灯灭状态</div><div class="line">		System.out.println("灯亮了");</div><div class="line">		light.setState(new LightOff());	</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体状态类：灯灭</div><div class="line">class LightOff implements LightState&#123;</div><div class="line">    //重写按压开关类方法</div><div class="line">	@Override</div><div class="line">	public void Press(Light light) &#123;</div><div class="line">		//关闭灯，并把开关状态切换至灯亮状态</div><div class="line">		System.out.println("灯灭了");</div><div class="line">		light.setState(new LightOn());			</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//测试类</div><div class="line">public class StatePattern &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建灯对象，初始状态为灯亮状态</div><div class="line">		Light light = new Light(new LightOn());</div><div class="line">		//多次按压开关，切换状态</div><div class="line">		light.PressControl();</div><div class="line">		light.PressControl();</div><div class="line">		light.PressControl();</div><div class="line">		light.PressControl();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">灯亮了</div><div class="line">灯灭了</div><div class="line">灯亮了</div><div class="line">灯灭了</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>状态模式在内部封装状态转换，对于客户端而言，使用更加简便；</li>
<li>状态模式把子类状态封装成不同的对象，减少了彼此之间的耦合，而且也比较容易增加新的状态；</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/05/Java设计模式之备忘录模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/05/Java设计模式之备忘录模式/" itemprop="url">
                  Java设计模式之备忘录模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-05T16:57:12+08:00">
                2017-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/05/Java设计模式之备忘录模式/" class="leancloud_visitors" data-flag-title="Java设计模式之备忘录模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　备忘录模式是行为型模式的一种，本章主要对备忘录模式进行学习。<br>　　本章要点：</p>
<ul>
<li>备忘录模式的概念和用途</li>
<li>备忘录模式的主要角色</li>
<li>备忘录模式的程序示例</li>
<li>总结<h2 id="1-备忘录模式的概念和用途"><a href="#1-备忘录模式的概念和用途" class="headerlink" title="1.备忘录模式的概念和用途"></a><strong>1.备忘录模式的概念和用途</strong></h2>　　<strong>备忘录模式的定义：在不破坏封闭的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态。</strong><br>　　备忘录模式，顾名思义，就是记录对象的状态，当需要得知之前的状态时，从备忘录中进行查询。<br>　　在很多软件中，当我们需要返回到上一步操作时，都会采用ctrl+Z的撤销方式。能够实现这一功能的前提是记录下之前的操作状态，当需要回撤之前的状态时，从库中进行调出。
　　<h2 id="2-备忘录模式的主要角色"><a href="#2-备忘录模式的主要角色" class="headerlink" title="2.备忘录模式的主要角色"></a><strong>2.备忘录模式的主要角色</strong></h2>对于备忘录模式而言，主要有以下几个角色：</li>
<li><strong>发起人角色</strong>：对于该角色而言，有两个主要的方法。第一：创建备忘录方法，用以记录当前时刻自身的内部状态；第二：获取状态方法，通过备忘录恢复内部状态。发起人角色可以根据需要决定备忘录存储自己的哪些内部状态。</li>
<li><strong>备忘录角色</strong>：负责存储对象的内部状态，发起人角色可以对其进行访问。</li>
<li><strong>备忘录管理者角色</strong>：负责管理备忘录，不能访问备忘录的内容。<h2 id="3-备忘录模式的程序示例"><a href="#3-备忘录模式的程序示例" class="headerlink" title="3.备忘录模式的程序示例"></a><strong>3.备忘录模式的程序示例</strong></h2>假如在游戏角色中，需要保存游戏角色的体力值状态，用备忘录模式示例如下：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">import java.util.*;</div><div class="line"></div><div class="line">//备忘录角色</div><div class="line">class RoleStateMemento&#123;</div><div class="line">	//记录体力值状态</div><div class="line">	private int Power;</div><div class="line">	public RoleStateMemento(int Power)&#123;</div><div class="line">		this.Power = Power;</div><div class="line">		&#125;</div><div class="line">	//得到体力值</div><div class="line">	public int getPower()&#123;</div><div class="line">		return Power;</div><div class="line">		&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//发起人角色</div><div class="line">class GameRole&#123;</div><div class="line">	//定义体力值</div><div class="line">	private int Power;</div><div class="line">	public int getPower() &#123;</div><div class="line">		return Power;</div><div class="line">	&#125;</div><div class="line">	public void setPower(int power) &#123;</div><div class="line">		Power = power;</div><div class="line">	&#125;</div><div class="line">	//创建一个备忘录，记录自身当前的体力值状态</div><div class="line">	public RoleStateMemento savePowerToMemento()&#123;</div><div class="line">		return new RoleStateMemento(Power);</div><div class="line">	&#125;</div><div class="line">	//创建方法，获取当前的体力值</div><div class="line">	public void getPowerFromMemento(RoleStateMemento memento)&#123;</div><div class="line">		this.Power = memento.getPower();</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//备忘录管理角色</div><div class="line">class CareTaker&#123;</div><div class="line">	//创建一个容器，存放备忘录</div><div class="line">	private List&lt;RoleStateMemento&gt; memento= new ArrayList&lt;RoleStateMemento&gt;();</div><div class="line">	//添加方法，把备忘录添加至容器中</div><div class="line">	public void add(RoleStateMemento rsm)&#123;</div><div class="line">		memento.add(rsm);</div><div class="line">	&#125;</div><div class="line">	//根据索引值，得到不同时刻的备忘录</div><div class="line">	public RoleStateMemento getRoleStateMemento(int index)&#123;</div><div class="line">		return memento.get(index);</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//测试类</div><div class="line">public class MementoPattern &#123;</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建发起人对象和一个备忘录管理对象</div><div class="line">		GameRole gr = new GameRole();</div><div class="line">		CareTaker gt = new CareTaker();</div><div class="line">		//设定体力值为100</div><div class="line">		gr.setPower(100);</div><div class="line">		//设定体力值为90，并进行第一次保存</div><div class="line">		gr.setPower(90);	</div><div class="line">		gt.add(gr.savePowerToMemento());</div><div class="line">		//设定体力值为80，并进行第二次保存</div><div class="line">		gr.setPower(80);</div><div class="line">		gt.add(gr.savePowerToMemento());</div><div class="line"></div><div class="line">		//输出当前的体力值</div><div class="line">		System.out.println("当前的体力值为"+gr.getPower());</div><div class="line">		//输出第一次保存时候的体力值</div><div class="line">		gr.getPowerFromMemento(gt.getRoleStateMemento(0));</div><div class="line">		System.out.println("第一次存储的体力值为"+gr.getPower());</div><div class="line">		//输出第二次保存时候的体力值</div><div class="line">		gr.getPowerFromMemento(gt.getRoleStateMemento(1));</div><div class="line">		System.out.println("第二次存储的体力值为"+gr.getPower());</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">当前的体力值为<span class="number">80</span></div><div class="line">第一次存储的体力值为<span class="number">90</span></div><div class="line">第二次存储的体力值为<span class="number">80</span></div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>备忘录模式给对象提供了一种状态恢复的机制；</li>
<li>备忘录模式中，客户端只与备忘录管理角色进行交互，而备忘录只与发起人角色交互；</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/05/Java设计模式之命令模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/05/Java设计模式之命令模式/" itemprop="url">
                  java设计模式之命令模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-05T14:01:44+08:00">
                2017-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/05/Java设计模式之命令模式/" class="leancloud_visitors" data-flag-title="java设计模式之命令模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　命令模式也是行为型模式的一种，本章主要对命令模式进行学习。<br>　　本章要点：</p>
<ul>
<li>命令模式的概念和用途</li>
<li>命令模式的主要角色</li>
<li>命令模式的程序示例</li>
<li>总结<h2 id="1-命令模式的概念和用途"><a href="#1-命令模式的概念和用途" class="headerlink" title="1.命令模式的概念和用途"></a><strong>1.命令模式的概念和用途</strong></h2>　　<strong>命令模式定义：将一个请求封装为一个对象(即我们创建的Command对象），从而使你可用不同的请求对客户进行参数化; 对请求排队或记录请求日志，以及支持可撤销的操作</strong>。<br>　　命令模式将请求进行封装，一个请求对应于一个命令，将发送命令和执行命令的责任相分离。命令模式中，请求的一方不知道接收请求的一方的接口，也不知道命令是如何被执行的。请求发送者只与命令接口相关联，而不与请求接收者直接关联。<h2 id="2-命令模式的主要角色"><a href="#2-命令模式的主要角色" class="headerlink" title="2.命令模式的主要角色"></a><strong>2.命令模式的主要角色</strong></h2>对于命令模式而言，主要有以下几个角色：</li>
<li>抽象命令类角色：该角色一般是接口或者抽象类，在接口中定义Execute()方法；</li>
<li>具体命令类角色：继承自抽象命令类，并实现抽象命令类的方法。该角色中持有请求接收者的对象引用，并在执行命令中，调用请求接收者的方法；</li>
<li>请求接收者角色：执行与请求相关的操作，实现命令的业务逻辑；</li>
<li>调用者角色：调用者也就是请求发送者，通过命令对象来执行操作。它置于命令对象相关联而与命令接收者不相关联。程序运行时，通过调用命令对象，命令对象再调用接收者来进行命令执行操作；<h2 id="3-命令模式的程序示例"><a href="#3-命令模式的程序示例" class="headerlink" title="3.命令模式的程序示例"></a><strong>3.命令模式的程序示例</strong></h2>命令模式的通用程序示例如下：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">//抽象命令角色，定义一个抽象方法execute()</div><div class="line">interface Command&#123;</div><div class="line">	void execute();</div><div class="line">&#125;</div><div class="line"></div><div class="line">//请求接收者角色，定义执行命令的业务逻辑</div><div class="line">class Receiver&#123;</div><div class="line">	public void action()&#123;</div><div class="line">		System.out.println("接收者执行命令");</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体命令角色</div><div class="line">class ConcreteCommand implements Command&#123;</div><div class="line">	//持有请求接收者的引用，并通过构造方法进行传递</div><div class="line">    private Receiver receiver;</div><div class="line">    public ConcreteCommand(Receiver receiver)&#123;this.receiver = receiver;&#125;</div><div class="line">	@Override</div><div class="line">	//重写execute方法，在里面调用请求接收者的方法</div><div class="line">	public void execute() &#123;</div><div class="line">		receiver.action();	</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//调用者角色</div><div class="line">class Invoker&#123;</div><div class="line">	//持有命令接口的对象引用，并且通过方法进行传递</div><div class="line">	private Command command;</div><div class="line">	public void setCommand(Command command)&#123;</div><div class="line">		this.command = command;</div><div class="line">	&#125;</div><div class="line">	//执行命令方法</div><div class="line">	public void runcommand()&#123;</div><div class="line">		command.execute();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//测试类</div><div class="line">public class CommandPattern &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建请求接收者</div><div class="line">		Receiver receiver = new Receiver();</div><div class="line">		//创建请求发送者</div><div class="line">		Invoker incoker =  new Invoker();</div><div class="line">		//设置调用者的请求接收者</div><div class="line">		incoker.setCommand(new ConcreteCommand(receiver));</div><div class="line">		//执行命令</div><div class="line">		incoker.runcommand();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行结果为;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">接收者执行命令</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>命令模式的本质是将命令封装成对象，将请求发送者责任与请求接收者责任相分离；</li>
<li>命令模式的关键在于引入了抽象命令接口，且发送者针对抽象命令接口编程，只有实现了抽象命令接口的具体命令才能与接收者相关联。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/04/Java设计模式之责任链模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/04/Java设计模式之责任链模式/" itemprop="url">
                  Java设计模式之责任链模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-04T23:46:43+08:00">
                2017-03-04
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/04/Java设计模式之责任链模式/" class="leancloud_visitors" data-flag-title="Java设计模式之责任链模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　责任链模式也是行为型模式的一种，本章主要对责任链模式进行学习。<br>　　本章要点：</p>
<ul>
<li>责任链模式的概念和用途</li>
<li>责任链模式的主要角色</li>
<li>责任链模式的程序示例</li>
<li><p>总结</p>
<h2 id="1-责任链模式的概念和用途"><a href="#1-责任链模式的概念和用途" class="headerlink" title="1.责任链模式的概念和用途"></a><strong>1.责任链模式的概念和用途</strong></h2><p>　　<strong>责任链模式是一种对象的行为模式。在责任链模式里，很多对象由每一个对象对其下家的引用而连接起来形成一条链。请求在这个链上传递，直到链上的某一个对象决定处理此请求。发出这个请求的客户端并不知道链上的哪一个对象最终处理这个请求，这使得系统可以在不影响客户端的情况下动态地重新组织和分配责任。</strong>—-百度百科<br>　　用户只需要将请求发送到责任链上，而不必关心请求是如何传递以及请求由谁处理，责任链模式很好的将请求的发送者和请求的处理者进行解耦，这也正是责任链模式的主要用途。</p>
<h2 id="2-责任链模式的主要角色"><a href="#2-责任链模式的主要角色" class="headerlink" title="2.责任链模式的主要角色"></a><strong>2.责任链模式的主要角色</strong></h2><p>　　对于责任链模式而言，其主要有两个角色：</p>
</li>
<li><p>抽象处理者角色：该角色通常是抽象类或者是接口。该角色定义一个方法设定和返回对下家的引用，同时，定义一个抽象方法规范子类对请求的处理；</p>
</li>
<li>具体处理者角色：实现抽象处理者的方法，对于接收的请求，进行处理或者传递给下家进行处理；<h2 id="3-责任链模式的程序示例"><a href="#3-责任链模式的程序示例" class="headerlink" title="3.责任链模式的程序示例"></a><strong>3.责任链模式的程序示例</strong></h2>责任链模式的程序示例如下：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">//抽象处理者</div><div class="line">abstract class Handler&#123;</div><div class="line">	//持有处理者的引用</div><div class="line">	protected Handler successor;</div><div class="line">	//设定下家</div><div class="line">	void setSuccessor(Handler successor)&#123;</div><div class="line">		this.successor = successor;</div><div class="line">	&#125;</div><div class="line">	//取下家引用的值</div><div class="line">	public Handler getSuccessor()&#123;return successor;&#125;</div><div class="line">	//处理请求</div><div class="line">	public abstract void handleRequest();</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//具体处理者</div><div class="line">class ConcreteHandler extends Handler&#123;</div><div class="line">	@Override</div><div class="line">	//具体的处理逻辑</div><div class="line">	public void handleRequest() &#123;</div><div class="line">		//如果还有下家，则转移给下家</div><div class="line">		if(getSuccessor()!=null)&#123;</div><div class="line">			System.out.println("将请求传递给下一个处理者");</div><div class="line">			&#125;</div><div class="line">		//如果没有下家，则进行处理</div><div class="line">		else&#123;</div><div class="line">			System.out.println("处理请求");</div><div class="line">		&#125;		</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">public class ChainPattern &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		</div><div class="line">		//组建责任链：1.创建两个处理者  2.把第二个处理者作为第一个处理者的下家</div><div class="line">		Handler handler1 = new ConcreteHandler();</div><div class="line">		Handler handler2 = new ConcreteHandler();</div><div class="line">		handler1.setSuccessor(handler2);</div><div class="line">		</div><div class="line">		//处理请求示意</div><div class="line">		handler1.handleRequest();</div><div class="line">		handler2.handleRequest();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行的结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">将请求传递给下一个处理者</div><div class="line">处理请求</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ol>
<li>Handler 类是主要类，它保有自己的引用，在 HanleRequest 里判断是否合适，如果没达到条件则向下传递，向谁传递之前先进行设置；</li>
<li>责任链模式能够降低耦合度，增强了给对象指派责任的灵活性；</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/04/Java设计模式之迭代器模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/04/Java设计模式之迭代器模式/" itemprop="url">
                  Java设计模式之迭代器模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-04T21:55:50+08:00">
                2017-03-04
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/04/Java设计模式之迭代器模式/" class="leancloud_visitors" data-flag-title="Java设计模式之迭代器模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　迭代器模式是行为型设计模式的一种，本章主要对迭代器模式进行学习。<br>　　本章要点：</p>
<ul>
<li>迭代器模式的概念及作用</li>
<li>迭代器模式的主要角色</li>
<li>迭代器模式的程序示例</li>
<li><p>总结</p>
<h2 id="1-迭代器模式的概念及作用"><a href="#1-迭代器模式的概念及作用" class="headerlink" title="1.迭代器模式的概念及作用"></a><strong>1.迭代器模式的概念及作用</strong></h2><p>　　<strong>迭代器模式（Iterator）定义：提供一种方法顺序访问一个聚合对象中的各种元素，而又不暴露该对象的内部表示。</strong><br>　　在程序设计中，对于对象中元素的访问一直是个比较重要的部分。但是，数据元素是以不同的数据结构进行存储的，而对于不同的数据结构，其访问方式又不一样，为了对数据更好的进行访问，那么就要知道其内部表示。这样不利于程序的封装和程序的安全性，迭代器很好的解决了这个问题，它能够在不暴露对象内部的情况下进行元素访问，很好的分离了数据结构和操作数据结构的算法。</p>
<h2 id="2-迭代器模式的主要角色"><a href="#2-迭代器模式的主要角色" class="headerlink" title="2.迭代器模式的主要角色"></a><strong>2.迭代器模式的主要角色</strong></h2><p>　　对于迭代器模式而言，它主要有四个角色，分别是：</p>
</li>
<li><p>抽象容器角色：一般是一个接口，内部提供iterator()方法，比如之前学习的List接口，Set接口都是属于抽象容器类；</p>
</li>
<li>具体容器角色：实现抽象容器的接口方法，比如对于Java已有的容器类而言，ArrayList和HashSet就是具体容器类了；</li>
<li>抽象迭代器角色：定义遍历元素所需要的方法，一般有hasNext()，判断遍历是否结束，Next()，取出下一个元素的方法；</li>
<li>具体迭代器角色：实现抽象迭代器中的方法；<h2 id="3-迭代器模式的程序示例"><a href="#3-迭代器模式的程序示例" class="headerlink" title="3.迭代器模式的程序示例"></a><strong>3.迭代器模式的程序示例</strong></h2>　　迭代器模式的程序示例如下：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">import java.util.*;</div><div class="line"></div><div class="line">//抽象迭代器角色</div><div class="line">interface Iterator&#123;</div><div class="line">	//定义两个抽象方法，分别是Next()和hasNext()</div><div class="line">	public Object Next();</div><div class="line">	public boolean hasNext();	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体迭代器角色</div><div class="line">class ConcreteIterator implements Iterator&#123;</div><div class="line">	//创建内部容器，并通过构造方法进行传递</div><div class="line">    private List list =  new ArrayList();</div><div class="line">    public ConcreteIterator(List list)&#123;this.list = list;&#125;</div><div class="line">    private int i = 0;</div><div class="line">	@Override</div><div class="line">	//覆写Next方法，当容器元素不为空时，取出元素，下标向后移一位</div><div class="line">	public Object Next() &#123;</div><div class="line">		Object obj = null;</div><div class="line">		if(this.hasNext())&#123;</div><div class="line">			obj = this.list.get(i++);</div><div class="line">		&#125;</div><div class="line">		return obj;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	//覆写hasNext方法，如果取值的下标达到了集合的尺寸，返回为假，反之为真</div><div class="line">	public boolean hasNext() &#123;</div><div class="line">		if(list.size() == i)&#123;</div><div class="line">			return false;</div><div class="line">		&#125;</div><div class="line">		return true;</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//抽象容器类角色</div><div class="line">interface Aggregate&#123;</div><div class="line">	//定义增加删除方法</div><div class="line">	public void add(Object obj);</div><div class="line">	public void remove(Object obj);</div><div class="line">	//定义iterator方法，返回一个迭代器</div><div class="line">	public Iterator iterator();</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体容器角色</div><div class="line">class ConcreteAggregate implements Aggregate&#123;</div><div class="line">	//定义一个list集合存放元素</div><div class="line">    private List list  = new ArrayList();</div><div class="line">    //覆写增加元素方法</div><div class="line">	public void add(Object obj) &#123;</div><div class="line">		list.add(obj);	</div><div class="line">	&#125;</div><div class="line">    //覆写移除元素方法</div><div class="line">	public void remove(Object obj) &#123;</div><div class="line">	   list.remove(obj);</div><div class="line">	&#125;</div><div class="line">    //覆写iterator方法，返回一个具体的迭代器角色</div><div class="line">	public Iterator iterator() &#123;</div><div class="line">		// TODO Auto-generated method stub</div><div class="line">		return new ConcreteIterator(list);</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//测试类</div><div class="line">public class IteratorPattern &#123;</div><div class="line">    </div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建一个具体的容器角色，并向里面添加元素</div><div class="line">		ConcreteAggregate ca = new ConcreteAggregate();</div><div class="line">		ca.add(123);</div><div class="line">		ca.add(456);</div><div class="line">		ca.add(789);</div><div class="line">		ca.add("abc");</div><div class="line">		ca.add("xyz");</div><div class="line">		//创建容器的一个迭代器</div><div class="line">		Iterator i = ca.iterator();</div><div class="line">		//通过迭代器进行元素的访问</div><div class="line">		while(i.hasNext())&#123;</div><div class="line">			System.out.println(i.Next());</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">123</span></div><div class="line"><span class="number">456</span></div><div class="line"><span class="number">789</span></div><div class="line">abc</div><div class="line">xyz</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ol>
<li>迭代器访问元素的方式把数据结构和操作数据结构的算法相分离，提供了一种对集合容器的同一访问方式；</li>
<li>迭代器模式中所定义的容器也是基于Java已有的容器类；</li>
<li>迭代器与集合是共生死的，一般有集合类，也会提供一个迭代器进行访问；</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/04/Java设计模式之观察者模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="xuwei1991">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="xuwei'blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="xuwei'blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/04/Java设计模式之观察者模式/" itemprop="url">
                  Java设计模式之观察者模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-04T10:03:34+08:00">
                2017-03-04
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          
             <span id="/2017/03/04/Java设计模式之观察者模式/" class="leancloud_visitors" data-flag-title="Java设计模式之观察者模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　观察者模式也是行为型设计模式的一种，本章主要对观察者模式进行学习。<br>  本章要点：</p>
<ul>
<li>观察者模式的概念及作用</li>
<li>观察者模式的主要角色</li>
<li>观察者模式的程序示例</li>
<li><p>总结</p>
<h2 id="1-观察者模式的概念及作用"><a href="#1-观察者模式的概念及作用" class="headerlink" title="1.观察者模式的概念及作用"></a><strong>1.观察者模式的概念及作用</strong></h2><p>　　<strong>观察者模式定义：也被称为发布/订阅模式，定义对象间一种一对多的依赖关系，使得当每一个对象改变状态，则所有依赖于它的对象都会得到通知并自动更新。</strong><br>　　Java语言中，为了做到解耦，很多类都是可以各自独立变化的。但是在实际的设计需求中，一些类之间有逻辑关联。当一个类发生改变时，希望相关类能够观察到这种变化并且自动更新。这也正是观察者设计模式的由来。<br>　　举一个不知是否恰当的例子，我们在订票时候，当系统的余票数量变化之后，所有操作的用户都能够得到余票通知，并且更新了余票状态。</p>
<h2 id="2-观察者模式的主要角色"><a href="#2-观察者模式的主要角色" class="headerlink" title="2.观察者模式的主要角色"></a><strong>2.观察者模式的主要角色</strong></h2><p>　　对于观察者模式而言，它主要有以下四种主要角色：</p>
</li>
<li><p><strong>抽象的被观察者角色</strong>：一般由抽象类和接口实现，把所有对观察者对象的引用放置在容器里，可以有任意数量的观察者。该角色一般有三个方法，分别是attach，detach和notify。attach向容器中增加观察者对象；detach从容器中删除对象；notify依次调用观察者对应的方法；</p>
</li>
<li><strong>具体的被观察者角色</strong>：继承自抽象的被观察类，对其进行拓展，并且实现具体的业务逻辑；</li>
<li><strong>抽象的观察者角色</strong>：为具体的观察者提供接口，在得到主题通知（被观察者状态改变）时，对自己进行更新。该类一般含有一个update方法。</li>
<li><strong>具体的观察者角色</strong>：抽象观察者的具体实现，定义被观察者对象状态发生变化时所要处理的业务逻辑；<h2 id="3-观察者模式的程序示例"><a href="#3-观察者模式的程序示例" class="headerlink" title="3.观察者模式的程序示例"></a><strong>3.观察者模式的程序示例</strong></h2>　　假如有一个主体对象，有三个观察者，通过观察者模式实现如下;</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div></pre></td><td class="code"><pre><div class="line">package com.xuwei.DesignPattern;</div><div class="line"></div><div class="line">import java.util.*;</div><div class="line"></div><div class="line">//抽象被观察者角色</div><div class="line">abstract class Subject&#123;</div><div class="line">	//定义一个容器存放观察者对象</div><div class="line">	private List&lt;Observer&gt; obs = new ArrayList&lt;Observer&gt;();</div><div class="line">	//Attach方法，增加观察者</div><div class="line">	public void Attach(Observer observer)&#123;</div><div class="line">		obs.add(observer);</div><div class="line">		&#125;</div><div class="line">	//Detach方法，删除观察者</div><div class="line">	public void Detach(Observer observer)&#123;</div><div class="line">		obs.remove(observer);</div><div class="line">		&#125;</div><div class="line">	//Notify方法，逐个的通知观察者，完成自我更新</div><div class="line">	public void Notify()&#123;</div><div class="line">		for(Observer o:obs)&#123;</div><div class="line">			o.update();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">    //抽象的业务逻辑</div><div class="line">	public abstract void doSomething();</div><div class="line">&#125;</div><div class="line"></div><div class="line">//具体的被观察对象</div><div class="line">class concreteSubject extends Subject&#123;</div><div class="line">    //覆写doSomething方法，重新定义业务逻辑</div><div class="line">	@Override</div><div class="line">	public void doSomething() &#123;</div><div class="line">		System.out.println("被观察者发布通知");</div><div class="line">		this.Notify();	</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//观察者接口</div><div class="line">interface Observer&#123;</div><div class="line">	//定义更新方法</div><div class="line">	void update();</div><div class="line">&#125;</div><div class="line"></div><div class="line">//1号具体观察者</div><div class="line">class concreteSubject1 implements Observer&#123;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void update() &#123;</div><div class="line">	System.out.println("1号观察者收到通知，并进行更新");		</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//2号具体观察者</div><div class="line">class concreteSubject2 implements Observer&#123;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void update() &#123;</div><div class="line">	System.out.println("2号观察者收到通知，并进行更新");		</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//3号具体观察者</div><div class="line">class concreteSubject3 implements Observer&#123;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void update() &#123;</div><div class="line">	System.out.println("3号观察者收到通知，并进行更新");		</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//测试类</div><div class="line">public class ObserverPattern &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//创建被观察者对象</div><div class="line">		Subject s = new concreteSubject();</div><div class="line">		//添加三个观察者</div><div class="line">		s.Attach(new concreteSubject1());</div><div class="line">		s.Attach(new concreteSubject2());</div><div class="line">		s.Attach(new concreteSubject3());</div><div class="line">		//开展业务</div><div class="line">		s.doSomething();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">被观察者发布通知</div><div class="line"><span class="number">1</span>号观察者收到通知，并进行更新</div><div class="line"><span class="number">2</span>号观察者收到通知，并进行更新</div><div class="line"><span class="number">3</span>号观察者收到通知，并进行更新</div></pre></td></tr></table></figure>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a><strong>4.总结</strong></h2><ul>
<li>观察者模式是在被观察类中关联观察者对象，并且在业务逻辑中调用观察者的更新方法，从而实现观察功能。</li>
<li>观察者模式很好的分离了观察者和被观察者，提供了程序的可维护性；</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          <section id="comment">  
  <!-- ��˵���ۿ� start -->
	<div class="ds-thread" data-thread-key="<%= page.path %>" data-title="<%= page.title %>" data-url="https://xuwei1991.github.io/<%= page.permalink %>"></div>
<!-- ��˵���ۿ� end -->
<!-- ��˵����JS���� start (һ����ҳֻ������һ��) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"xuwei1234"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- ��˵����JS���� end -->
 
</section>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="xuwei1991" />
          <p class="site-author-name" itemprop="name">xuwei1991</p>
          <p class="site-description motion-element" itemprop="description">The Best or Nothing</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">45</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xuwei1991</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("PlM9fkBu5Xsbaz55LCTKph3O-gzGzoHsz", "Ro21MawN38aeHbNOxyQiQCOC");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
